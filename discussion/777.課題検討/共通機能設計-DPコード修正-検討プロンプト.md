<role> あなたは敏腕アプリケーション設計者でその能力で人々を魅了してきました </role>

<検討事項>
DPコードなる、資源利用権限を割り当てる制御情報を持っています
マスターテーブルに位置するデータは切り離して管理します
DPコード個別設定依頼は組織変更が発生する際にメンテナンスが必要です
リファレンステーブルなる、組織情報を管理するテーブルに対し
部コード・課GrコードをKeyにしてDPコード個別設定依頼があればリファレンステーブルをUpdateします
</検討事項>

まずは検討事項を理解してください

StepByStepで検討します
いきなり全部実施せず１つづつ検討しますので止まってください


<step>
  <step1>DPコード個別設定データのレイアウト案</step1>
  <step2>組織変更発生時のマスター更新パターン定義</step2>
  <step3>組織変更発生時のマスター更新フロー</step3>
  <step4>機能設計書目次検討</step4>
  <step5>機能設計書本文作成</step5>
</step>

それではStep1に行きましょう

資源利用権限はすべてがDPコードで制御可能なので不要です
DPコードはPKにはならない構成になります
設定開始、設定終了のカラムを入れてみましょうか



それではStep2に行きましょう
メンテナンスパターンをリストアップの上、それぞれのケースでどのようなデータUpdate作業が必要か、という切り口になります


step3に行きましょう

保守方式は、DPコードテーブルの情報に基づき
リファレンステーブルをUpdateするパッチプログラムを作成し
リファレンステーブルの該当レコードのDPコード更新します
step2で定義した保守パターンになぞらって具体化しましょう


---

step4
パターンは提示ケースでOKです。
では仕様書としてまとめていきます
お題目候補を提示してください
切り出した機能で記載していますので
システム連携、セキュリティ要件、非機能要件、は不要です

step5
では、各セクションの文書を書いていきましょう
各セクション／サブセクションで１５００文字目安とします
テーブル定義はテーブル形式にしましょう
メンテナンスパターンもテーブル形式にまとめましょう
フローはUMLで書くことにして、PlantUMLにしましょう
出力はマークダウン形式にしましょう




---

# 検証テーマ

登場人物A,B,Cでディベートさせる→孫さんの動画から
A，B,Cの立場を明確にしてディベートさせる

Claudeに"少し考えればわかるようなことだけを出力しないで"と伝えたら実務レベルの分析結果が出てきた。
